{% load static %}

<!DOCTYPE html>
<html>
<head>
	<title>World Universities</title>
	<!-- title bar logo -->
	<link rel="shortcut icon" href="{% static 'images/logo.png' %}">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Last checked - 25th July, 2021 -->
	<!-- jquery -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<!-- popper.js -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.2/umd/popper.min.js"></script>
	<!-- bootstrap 4 css-->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
	<!-- bootstrap 4 js-->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Fontawesome Icons -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<!-- To get CSRF Token value (not the latest one) -->
	<script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>

	<!-- Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

	<!-- Customs -->
	<style>
		h1{
			background-image: linear-gradient(to left, lavender, blue, green, red);   
			-webkit-background-clip: text;
  			color: transparent;
		}
		td, #navbardrop{
			background-image: linear-gradient(to left, violet, green, yellow, orange, red);   
			-webkit-background-clip: text;
  			color: transparent;
		}
	</style>
	<script src="{% static 'js/main.js' %}"></script>
</head>

<body class="bg-light">
	<!-- navigation bar -->
	<nav class="navbar navbar-expand-sm bg-dark navbar-dark sticky-top">
		<!-- Logo -->
		<a class="navbar-brand" href="#">
	  		<img class="rounded-circle" src="{% static 'images/logo.png' %}" alt="logo" width="50">
		</a>
		<ul class="navbar-nav ml-auto">
	      	<!-- Dropdown -->
		    <li class="nav-item dropdown">
		      	<a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
		        Search by University <span class="fas fa-caret-down"></span>
		      	</a>
		      	<div class="dropdown-menu">
		        	<a id="search_by_university" class="dropdown-item" href="#">Search by University</a>
		        	<a id="search_by_country" class="dropdown-item" href="#">Search by Country</a>
		      	</div>
		    </li>
		    <li class="nav-item">
		    	
		    	<!-- Search by University Form -->
		    	<form id="search_by_university_form" class="form-inline" name="search_by_university_form"> {% csrf_token %}
		    		<div class="input-group">
		    			<input id="search_by_university_text" class="form-control" type="text" name="search_by_university_text" placeholder="Search by University" required>
		    			<div class="input-group-append">
		    				<input id="search_by_university_submit" class="btn btn-primary" type="submit" name="search_by_university_submit">
		    			</div>
		    		</div>	
		    	</form>

		    	<!-- Search by Country Form -->
		    	<form id="search_by_country_form" class="form-inline" name="search_by_country_form" style="display: none;"> {% csrf_token %}
		    		<div class="input-group">
		    			<input id="search_by_country_text" class="form-control" type="text" name="search_by_country_text" placeholder="Search by Country" required>
		    			<div class="input-group-append">
		    				<input id="search_by_country_submit" class="btn btn-primary" type="submit" name="search_by_country_submit">
		    			</div>
		    		</div>	
		    	</form>

		    </li>
	    </ul>
	</nav>

	<!-- Table to show country data -->
	<h1 class="text-center"><b>World Universities</b></h1>
	<div id="table" class="container-fluid table-responsive-sm">
		<table class="container rounded-lg table table-dark table-striped table-hover text-center w-100">
			<thead>
				<tr>
					<th class>Name</th>
					<th>WebPage</th>
					<th>Country</th>
				</tr>
			</thead>
			<tbody>
				{% for university in universities %}
					<tr>
						<td>{{university.name}}</td>
						<td><a href="{{university.web_pages}}" target="_blank">{{university.web_pages}}</a></td>
						<td>{{university.country}}</td>
					</tr>
				{% endfor %}	
			</tbody>
		</table>
	</div>
</body>

{% if messages %}
	{% for message in messages %}
		<script>
			alert("{{message.message}}");
		</script>
	{% endfor %}
{% endif %}

</html>